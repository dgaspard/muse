# Normalization Rules v1.0

## Purpose
Defines canonical normalization for all governance-derived artifacts in MUSE. Used for deterministic ID generation and content hashing.

## Text Normalization
- Trim leading/trailing whitespace
- Collapse internal whitespace to single spaces
- Lowercase all text
- Normalize Unicode (NFKC)
- Strip punctuation (except within code blocks, if applicable)

## Lists
- Explicitly ordered (preserve original order)
- No sorting unless list is semantically unordered

## Objects/Maps
- Field order is explicitly defined per artifact type
- No reliance on language-level map ordering

## Field Ordering (Canonical)
### Epic
1. governance.source_document.id
2. governance.sections[].id (in document order)
3. title
4. description

### Feature
1. lineage.epic_id
2. title
3. description

### User Story
1. lineage.epic_id
2. lineage.feature_id
3. title
4. description
5. acceptance_criteria[] (ordered)

### Prompt
1. lineage.story_id
2. prompt_purpose
3. prompt_template

## Version
normalization_version: v1.0

---

Any change to these rules requires a new version and explicit approval.